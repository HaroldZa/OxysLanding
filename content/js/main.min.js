if("object"!=typeof app)var app={};app.genIco=function(t){var e=this,a=$(t.selector);e.spriteSvg||(e.spriteSvg=$(t.sprite)),a.each(function(){for(var t=$(this),a=e.spriteSvg.find("#"+t.data("svg")),i=a[0].attributes,o='<div class="data-svg">\n<svg xmlns="http://www.w3.org/2000/svg"',n=0;n<i.length;n++)o+=" "+("id"===i[n].name?'class="svg_'+i[n].value+'"':i[n].name+'="'+i[n].value+'"');for(o+=">\n",l=0;l<a[0].childNodes.length;l++){var r=a[0].childNodes[l];if("#text"!==r.nodeName){o+="<"+r.nodeName;for(var s=0;s<r.attributes.length;s++)o+=" "+r.attributes[s].name+'="'+r.attributes[s].value+'"';o+="></"+r.nodeName+">"}}o+="\n</svg>\n</div>","a"===t.data("position")?t.append(o):t.prepend(o)})},app.diagram=function(t,e){var a=this;(_s=a.diagDat)||(a.diagDat={},(_s=a.diagDat).box=$("."+t.box),_s.osY=_s.box.find("."+t.box+"--"+t.osY),_s.wrap=_s.box.find("."+t.box+"--"+t.wrap)),_s.width&&_s.width===_s.wrap.innerWidth()||(_s.width=_s.wrap.innerWidth(),_s.osY.height(_s.width),_s.box.height(_s.width)),a.deviceDB[a.device]>598?_s.box.css("margin-top","-"+_s.width+"px"):_s.box.css("margin-top",0)},app.cdnInit=function(){if(!app.cdn){var t=$("#cdnUrl").attr("src");t&&(app.cdn=t.replace("js/common.js",""))}},app.slider=function(t){var e,a=this;function i(t){if(!(e=a.sliderDat[t.name])){a.sliderDat[t.name]={},(e=a.sliderDat[t.name]).wrap=$(t.wrap),e.dom=e.wrap.html(),e.slider=e.wrap.find(t.box),e.option=t.option?t.option:{xs:{}},e.option.xs||(e.option.xs={});var i=[];for(var o in a.deviceDB)if(a.deviceDB.hasOwnProperty(o)){if(e.option[o]){for(var n=0;n<i.length;n++)e.option[i[n]]=e.option[o];i=[]}else i.push(o)}e.def=void 0}e.def!==e.option[a.device]&&(e.def=e.option[a.device],"function"==typeof e.slider.destroySlider&&(e.slider.destroySlider(),e.wrap.html(e.dom),e.slider=e.wrap.find(t.box)),"none"!==e.def&&e.slider.bxSlider(e.def))}if(a.sliderDat||(a.sliderDat={}),t.name&&"string"==typeof t.name)i(t);else for(var o in t)t.hasOwnProperty(o)&&i(t[o])},app.progress=function(t,e){(t="function"!=typeof t.attr?$(t):t).each(function(){var t=$(this);if(t.data("val")){var a,i,o=t.find("span"),n=t.data("val"),r=t.find("svg:not([class])").width(),s=t.find(".circle");s.data("dasharray")||s.attr("data-dasharray",s.attr("stroke-dasharray")),i=(a=r*s.data("dasharray")/164)-a*n/100,e?i!==+s.attr("stroke-dashoffset")&&s.attr({"stroke-dasharray":a,"stroke-dashoffset":i}):(s.attr({"stroke-dasharray":a,"stroke-dashoffset":a}),t.animate({outline:"0px"},{duration:1e3,easing:"linear",progress:function(t,e){o.text(Math.round(n*e)),s.attr("stroke-dashoffset",a-a*n/100*e)}}))}})},app.scrollTo=function(t,e){var a=this,i=0;0!==t&&(t="function"==typeof t.attr?t:$(t)).length&&(i=t.offset().top+(isNaN(e)?0:+e)),a.html||(a.html=$("html, body")),a.html.animate({scrollTop:i},1e3)},app.init=function(){var t=this,e={ico:{selector:"[data-svg]",sprite:"#sprite"},diagram:{box:"changes__diagram",osY:"osY",wrap:"wrap",param:"param",age:"age",indent:"indent",interval:[30,60],step:5},slider:{time:{name:"time",box:".time__slider",wrap:".time__slider--wrap",preventDefaultSwipeY:!0,option:{xs:{infiniteLoop:!1,hideControlOnEnd:!0}}},reviews:{name:"reviews",box:".reviews__slider",wrap:".reviews__slider--wrap",preventDefaultSwipeY:!0,option:{sm1:{slideWidth:600,minSlides:2,maxSlides:4,moveSlides:1},md:"none"}}},progress:"[data-val]",butToForm:".button:not(.form__button)"};function a(){for(var e in t.deviceDB)if(t.deviceDB.hasOwnProperty(e)&&t.deviceDB[e]<window.innerWidth)return e}t.deviceDB={xl:1199,lg:991,md1:849,md:767,sm1:599,sm:424,xs:0},t.device=a(),t.progressBox=$(e.progress),t.cdnInit(),t.genIco(e.ico),t.diagram(e.diagram,1),$(e.butToForm).on("touchend click",function(e){e.preventDefault(),t.scrollTo(".form__wrap",-20)}),$(window).on("load",function(){t.slider(e.slider)}).on("resize",function(){t.device!==a()&&(t.device=a(),t.slider(e.slider),t.progress(t.progressBox,1)),t.diagram(e.diagram)}).on("scroll",function(){t.progressBox.each(function(){var e=$(this);window.innerHeight/2-this.getBoundingClientRect().top>0&&!e.hasClass("init")&&(t.progress(e),e.addClass("init"))})})},$(function(){app.init()}),history.pushState(null,"","#");var cont=0;(-1==document.referrer.indexOf("order.php")||""==document.referrer)&&(1024>=$(window).width()?(document.onmouseover=function(){window.innerDocClick=!0},document.onmouseleave=function(){window.innerDocClick=!1},window.onhashchange=function(){window.innerDocClick&&(window.location.href.indexOf("#")>-1?$("#modal").fadeIn():($("#modal").fadeIn(),history.pushState(null,"","")))},$(window).on("popstate",function(t){1==cont&&$("#modal").fadeOut(),2==cont&&history.back(),cont++})):$(window).on("popstate",function(t){0==cont&&$("#modal").fadeIn(),1==cont&&$("#modal").fadeOut(),cont>1&&history.back(),cont++})),setTimeout(function(){$("#modal").fadeIn(1500)},3e4),$("#continue").click(function(){$("#modal").fadeOut()}),$(document).ready(function(){try{moment.locale(""),$(".day-before").text(moment().subtract(1,"day").format("D.MM.YYYY")),$(".day-after").text(moment().add(1,"day").format("D.MM.YYYY"))}catch(t){}}),$(function(){$(".bt-down").click(function(){return $("html, body").animate({scrollTop:$(document).height()},"slow"),!1})});