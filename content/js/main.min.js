if("object"!=typeof app)var app={};app.genIco=function(e){var t=this,a=$(e.selector);t.spriteSvg||(t.spriteSvg=$(e.sprite)),a.each(function(){for(var e=$(this),a=t.spriteSvg.find("#"+e.data("svg")),i=a[0].attributes,o='<div class="data-svg">\n<svg xmlns="http://www.w3.org/2000/svg"',n=0;n<i.length;n++)o+=" "+("id"===i[n].name?'class="svg_'+i[n].value+'"':i[n].name+'="'+i[n].value+'"');for(o+=">\n",l=0;l<a[0].childNodes.length;l++){var r=a[0].childNodes[l];if("#text"!==r.nodeName){o+="<"+r.nodeName;for(var s=0;s<r.attributes.length;s++)o+=" "+r.attributes[s].name+'="'+r.attributes[s].value+'"';o+="></"+r.nodeName+">"}}o+="\n</svg>\n</div>","a"===e.data("position")?e.append(o):e.prepend(o)})},app.diagram=function(e,t){var a=this;(_s=a.diagDat)||(a.diagDat={},(_s=a.diagDat).box=$("."+e.box),_s.osY=_s.box.find("."+e.box+"--"+e.osY),_s.wrap=_s.box.find("."+e.box+"--"+e.wrap)),_s.width&&_s.width===_s.wrap.innerWidth()||(_s.width=_s.wrap.innerWidth(),_s.osY.height(_s.width),_s.box.height(_s.width)),a.deviceDB[a.device]>598?_s.box.css("margin-top","-"+_s.width+"px"):_s.box.css("margin-top",0)},app.cdnInit=function(){if(!app.cdn){var e=$("#cdnUrl").attr("src");e&&(app.cdn=e.replace("js/common.js",""))}},app.slider=function(e){var t,a=this;function i(e){if(!(t=a.sliderDat[e.name])){a.sliderDat[e.name]={},(t=a.sliderDat[e.name]).wrap=$(e.wrap),t.dom=t.wrap.html(),t.slider=t.wrap.find(e.box),t.option=e.option?e.option:{xs:{}},t.option.xs||(t.option.xs={});var i=[];for(var o in a.deviceDB)if(a.deviceDB.hasOwnProperty(o)){if(t.option[o]){for(var n=0;n<i.length;n++)t.option[i[n]]=t.option[o];i=[]}else i.push(o)}t.def=void 0}t.def!==t.option[a.device]&&(t.def=t.option[a.device],"function"==typeof t.slider.destroySlider&&(t.slider.destroySlider(),t.wrap.html(t.dom),t.slider=t.wrap.find(e.box)),"none"!==t.def&&t.slider.bxSlider(t.def))}if(a.sliderDat||(a.sliderDat={}),e.name&&"string"==typeof e.name)i(e);else for(var o in e)e.hasOwnProperty(o)&&i(e[o])},app.progress=function(e,t){(e="function"!=typeof e.attr?$(e):e).each(function(){var e=$(this);if(e.data("val")){var a,i,o=e.find("span"),n=e.data("val"),r=e.find("svg:not([class])").width(),s=e.find(".circle");s.data("dasharray")||s.attr("data-dasharray",s.attr("stroke-dasharray")),i=(a=r*s.data("dasharray")/164)-a*n/100,t?i!==+s.attr("stroke-dashoffset")&&s.attr({"stroke-dasharray":a,"stroke-dashoffset":i}):(s.attr({"stroke-dasharray":a,"stroke-dashoffset":a}),e.animate({outline:"0px"},{duration:1e3,easing:"linear",progress:function(e,t){o.text(Math.round(n*t)),s.attr("stroke-dashoffset",a-a*n/100*t)}}))}})},app.scrollTo=function(e,t){var a=this,i=0;0!==e&&(e="function"==typeof e.attr?e:$(e)).length&&(i=e.offset().top+(isNaN(t)?0:+t)),a.html||(a.html=$("html, body")),a.html.animate({scrollTop:i},1e3)},app.init=function(){var e=this,t={ico:{selector:"[data-svg]",sprite:"#sprite"},diagram:{box:"changes__diagram",osY:"osY",wrap:"wrap",param:"param",age:"age",indent:"indent",interval:[30,60],step:5},slider:{time:{name:"time",box:".time__slider",wrap:".time__slider--wrap",preventDefaultSwipeY:!0,option:{xs:{infiniteLoop:!1,hideControlOnEnd:!0}}},reviews:{name:"reviews",box:".reviews__slider",wrap:".reviews__slider--wrap",preventDefaultSwipeY:!0,option:{sm1:{slideWidth:600,minSlides:2,maxSlides:4,moveSlides:1},md:"none"}}},progress:"[data-val]",butToForm:".button:not(.form__button)"};function a(){for(var t in e.deviceDB)if(e.deviceDB.hasOwnProperty(t)&&e.deviceDB[t]<window.innerWidth)return t}e.deviceDB={xl:1199,lg:991,md1:849,md:767,sm1:599,sm:424,xs:0},e.device=a(),e.progressBox=$(t.progress),e.cdnInit(),e.genIco(t.ico),e.diagram(t.diagram,1),$(t.butToForm).on("touchend click",function(t){t.preventDefault(),e.scrollTo(".form__wrap",-20)}),$(window).on("load",function(){e.slider(t.slider)}).on("resize",function(){e.device!==a()&&(e.device=a(),e.slider(t.slider),e.progress(e.progressBox,1)),e.diagram(t.diagram)}).on("scroll",function(){e.progressBox.each(function(){var t=$(this);window.innerHeight/2-this.getBoundingClientRect().top>0&&!t.hasClass("init")&&(e.progress(t),t.addClass("init"))})})},$(function(){app.init()}),history.pushState(null,"","#");var cont=0;(-1==document.referrer.indexOf("order.php")||""==document.referrer)&&(1024>=$(window).width()?(document.onmouseover=function(){window.innerDocClick=!0},document.onmouseleave=function(){window.innerDocClick=!1},window.onhashchange=function(){window.innerDocClick&&(window.location.href.indexOf("#")>-1?$("#modal").fadeIn():($("#modal").fadeIn(),history.pushState(null,"","")))},$(window).on("popstate",function(e){1==cont&&$("#modal").fadeOut(),2==cont&&history.back(),cont++})):$(window).on("popstate",function(e){0==cont&&$("#modal").fadeIn(),1==cont&&$("#modal").fadeOut(),cont>1&&history.back(),cont++})),setTimeout(function(){$("#modal").fadeIn(1500)},3e4),$("#continue").click(function(){$("#modal").fadeOut()}),$(document).ready(function(){try{moment.locale(""),$(".day-before").text(moment().subtract(1,"day").format("D.MM.YYYY")),$(".day-after").text(moment().add(1,"day").format("D.MM.YYYY"))}catch(e){}});